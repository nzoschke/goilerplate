# Application
APP_NAME=Law of 100
APP_ENV=development  # Required: 'development' or 'production'
APP_URL=http://localhost:7331  # Required: base URL for email links and OAuth redirects
PORT=8090
APP_TAGLINE="Master anything through repetition"
SUPPORT_EMAIL=hello@example.com
CONTENT_PATH=content

# Database
# SQLite (default) - Works for most apps, even in production
DB_DRIVER=sqlite
DB_CONNECTION=./data/lawof100.db?_pragma=foreign_keys(1)&_pragma=journal_mode(WAL)

# PostgreSQL (optional) - For multi-server deployments
#DB_DRIVER=pgx
#DB_CONNECTION=postgres://goilerplate:dev_password@localhost:5432/goilerplate_dev?sslmode=disable

# Security
# Required: Change this to a random string (used for sessions/auth)
JWT_SECRET=your_secret

# Token Expiry (Go duration format: 1h, 24h, 168h)
JWT_EXPIRY=168h
TOKEN_EMAIL_VERIFY_EXPIRY=24h
TOKEN_PASSWORD_RESET_EXPIRY=1h
TOKEN_EMAIL_CHANGE_EXPIRY=24h

# OAuth (optional)
# Google: https://console.cloud.google.com/apis/credentials
# - Create OAuth 2.0 Client ID → Web application
# - Authorized redirect URIs: {APP_URL}/auth/google/callback
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# GitHub: https://github.com/settings/developers
# - New OAuth App → Set callback URL: {APP_URL}/auth/github/callback
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# Email Service (resend.com)
# Development: Optional (emails logged to console)
# Production: Required (set APP_ENV=production)
EMAIL_FROM=noreply@example.com
RESEND_API_KEY=re_xxxxxxxxxxxxx
RESEND_AUDIENCE_ID=aud_xxxxxxxxxxxxx

# Payment Provider Configuration
# Choose your payment provider: "polar" (default) or "stripe"
# Polar: Best for indie hackers (handles sales tax + invoicing automatically)
# Stripe: Enterprise-grade, requires more setup but highly customizable
PAYMENT_PROVIDER=polar

# Polar Configuration (polar.sh)
# Recommended for indie hackers: automatic sales tax handling & invoicing
# Development: Use sandbox API key (polar.sh/docs)
# Production: Use production API key
POLAR_API_KEY=polar_sk_xxxxxxxxxxxxx
POLAR_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxx

# Polar Sandbox Mode (optional)
# Default: true in development, false in production
# Override: Set to true to use sandbox API in production (useful for demo/staging)
# POLAR_SANDBOX_MODE=true

# Polar Product IDs (get from polar.sh dashboard)
POLAR_PRODUCT_ID_PRO_MONTHLY=prod_xxxxxxxxxxxxx
POLAR_PRODUCT_ID_PRO_YEARLY=prod_xxxxxxxxxxxxx
POLAR_PRODUCT_ID_ENTERPRISE_MONTHLY=prod_xxxxxxxxxxxxx
POLAR_PRODUCT_ID_ENTERPRISE_YEARLY=prod_xxxxxxxxxxxxx

# Stripe Configuration (stripe.com)
# Alternative payment provider - set PAYMENT_PROVIDER=stripe to use
# Get keys from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_xxxxxxxxxxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxx

# Stripe Price IDs (get from stripe.com dashboard)
# Create products and prices in Stripe, then copy the price IDs here
STRIPE_PRICE_ID_PRO_MONTHLY=price_xxxxxxxxxxxxx
STRIPE_PRICE_ID_PRO_YEARLY=price_xxxxxxxxxxxxx
STRIPE_PRICE_ID_ENTERPRISE_MONTHLY=price_xxxxxxxxxxxxx
STRIPE_PRICE_ID_ENTERPRISE_YEARLY=price_xxxxxxxxxxxxx

# Analytics (optional, all GDPR-compliant options, can be used simultaneously)
#
# Umami (recommended): Open source, free tier (100K events/mo), self-hostable with PostgreSQL
# - Cloud: https://cloud.umami.is (free tier available)
# - Self-hosted: Use your own PostgreSQL database for unlimited events
UMAMI_WEBSITE_ID=
UMAMI_HOST=cloud.umami.is
#
# Plausible: Privacy-first, lightweight, self-hostable (requires ClickHouse)
PLAUSIBLE_DOMAIN=
PLAUSIBLE_HOST=plausible.io
#
# Google Analytics: Requires GDPR-compliant cookie consent (not included)
# You must implement: opt-in before loading, preference center, opt-out option
GOOGLE_ANALYTICS_ID=

# Error Tracking (optional)
SENTRY_DSN=

# Storage (S3-compatible)
# Required: Avatar uploads need S3 configured
# Development: MinIO (auto-started with docker-compose, config below)
# Production: AWS S3, DigitalOcean Spaces, Cloudflare R2, or self-hosted MinIO

# Development (MinIO - start with: make dev)
S3_REGION=us-east-1
S3_BUCKET=uploads
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin
S3_ENDPOINT=http://localhost:9000

# Production Example (uncomment for production)
#S3_REGION=us-east-1
#S3_BUCKET=my-app-uploads
#S3_ACCESS_KEY=AKIA...
#S3_SECRET_KEY=xxxxxxxxxxxxx
#S3_ENDPOINT=

# Presigned URL Expiry (optional)
#S3_PRESIGN_EXPIRY_PUBLIC=168h
#S3_PRESIGN_EXPIRY_PRIVATE=1h
